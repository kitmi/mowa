'use strict';const Util=require('../../../util.js'),_=Util._,FEATURE_NAME='atLeastOneNotNull';function initialize(entity,fields){if(!fields){throw new Error('Missing field names!')}Array.isArray(fields)||(fields=[fields]);entity.addFeature(FEATURE_NAME,fields,true).on('afterFields',()=>{fields.forEach(fieldName=>{let field=entity.fields[fieldName];if(!field){throw new Error('Required field "'+fieldName+'" not exist.')}field.optional=true})})}module.exports=initialize;