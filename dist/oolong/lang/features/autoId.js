'use strict';const Util=require('../../../util.js'),_=Util._,FEATURE_NAME='autoId';function initialize(entity,options){let typeInfo={name:'id',type:'int',auto:true,readOnly:true,fixedValue:true};if(options){if('string'===typeof options){options={name:options}}Object.assign(typeInfo,options)}let fieldName=typeInfo.name;delete typeInfo.name;entity.addFeature(FEATURE_NAME,{field:fieldName}).on('beforeFields',()=>{entity.addField(fieldName,typeInfo).setKey(fieldName)})}module.exports=initialize;